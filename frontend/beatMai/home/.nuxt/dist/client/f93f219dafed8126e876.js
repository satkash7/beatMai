(window.webpackJsonp=window.webpackJsonp||[]).push([[14,7],{403:function(t,e,o){t.exports=o.p+"img/opp.2d8e158.jpg"},404:function(t,e,o){t.exports=o.p+"img/default.526b6e3.jpg"},405:function(t,e,o){"use strict";o.r(e);var n={name:"LandingBlog",props:{blog:{type:Object,required:!0},opportunity:{type:Object,required:!1}},methods:{handleClick:function(){this.$emit("open-blog",this.blog)}}},r=o(0),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("client-only",[e("div",{staticClass:"max-w-[520px] xl:max-w-[580px] bg-white shadow-md rounded-lg overflow-hidden transition-transform duration-500 hover:scale-105 hover:shadow-xl ml-7 mr-7 mt-10 mb-10",on:{click:t.handleClick}},[1==t.opportunity?e("span",[e("img",{staticClass:"w-full h-48 object-cover rounded-t-lg transition-opacity duration-500 ease-in-out hover:opacity-80",attrs:{src:o(403)}})]):e("span",[null!=t.blog.imageUrl&&""!=t.blog.imageUrl?e("img",{staticClass:"w-full h-48 object-cover rounded-t-lg transition-opacity duration-500 ease-in-out hover:opacity-80",attrs:{src:t.blog.imageUrl}}):e("img",{staticClass:"w-full h-48 object-cover rounded-t-lg transition-opacity duration-500 ease-in-out hover:opacity-80",attrs:{src:o(404)}})]),t._v(" "),e("div",{staticClass:"text-container max-w-[385px] mx-auto"},[e("h4",{staticClass:"text-xl text-neutral-800 font-semibold hover:text-blue-500 transition duration-300"},[t._v(t._s(t.blog.blogTitle))]),t._v(" "),e("p",{staticClass:"text-sm text-gray-700 leading-relaxed"},[t._v("\n        "+t._s(t.blog.blogCaption)+"\n      ")])])])])}),[],!1,null,null,null);e.default=component.exports},600:function(t,e,o){"use strict";o.r(e);var n=o(8),r=(o(47),o(60),o(23),o(41),o(12),{name:"user-component",layout:"user",mixins:[o(100).a],data:function(){return{year:"".concat((new Date).toLocaleString("en-us",{year:"numeric"})),isLoading:!0,opportunities:[],blogs:[],user:[]}},beforeRouteEnter:function(t,e,o){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===e.name?o("/u"):o();case 2:case"end":return t.stop()}}),t)})))()},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.app,e.prev=1,n=null,"undefined"!=typeof sessionStorage&&(n=sessionStorage.getItem("token"),console.log("token ===========> : ",n)),e.next=6,o.$axios.get("/user/mydetails",{headers:{Authorization:"Bearer ".concat(n)}});case 6:return r=e.sent,l=r.data.user,c=r.data.blogs,d=r.data.opportunities,console.log("response data:",r.data),e.abrupt("return",{user:l,opportunities:d,blogs:c,isLoading:!1});case 14:return e.prev=14,e.t0=e.catch(1),console.error("Error fetching data:",e.t0),e.abrupt("return",{details:null,isLoading:!1});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))()},methods:{logout:function(){"undefined"!=typeof sessionStorage&&(sessionStorage.removeItem("token"),sessionStorage.removeItem("username"),sessionStorage.removeItem("email"),sessionStorage.removeItem("name"),"undefined"!=typeof localStorage&&(localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("email"),localStorage.removeItem("name")),this.$router.push("/u"))},showSingleBlog:function(t){this.$router.push({path:"blogs/".concat(t.blogRoute)})},showSingleOpportunity:function(t){this.$router.push({path:"opportunities/".concat(t.blogRoute)})},editItem:function(t,e){this.$router.push({path:"/edit?category=".concat(t,"&route=").concat(e)})},deleteItem:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!confirm("Voulez vous vraiment supprimer cette publication ?")){n.next=13;break}return n.prev=1,r=null,"undefined"!=typeof sessionStorage&&(r=sessionStorage.getItem("token")),n.next=6,o.$axios.delete("/".concat(t,"/delete/").concat(e),{headers:{Authorization:"Bearer ".concat(r)}});case 6:200==n.sent.data.status_code?(o.blogs=o.blogs.filter((function(t){return t.id!==e})),alert("Votre publication a été supprimée avec succès."),o.$router.go()):alert("Echec lors de la supression de la publication."),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.error("Failed to delete the post :",n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()}}}),l=o(0),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("client-only",[e("div",{staticClass:"w-full container mx-auto px-6"},[e("section",{staticClass:"bg-partner relative max-w-full sm:mx-6 my-0 shadow sm:rounded-2xl overflow-hidden"},[t.isLoading?e("div",{staticClass:"w-full px-6 sm:px-0 py-4 flex flex-col items-center justify-center space-y-4 text-center"},[e("p",[t._v("Loading...")])]):e("div",{staticClass:"w-full px-6 mr-0 ml-0 sm:px-0 py-0 flex flex-col items-center justify-center space-y-4"},[e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),t._v(" "),e("div",{staticClass:"w-full px-8 sm:px-0 my-0 py-0 flex flex-col items-center justify-center space-y-4 text-center"},[e("div",{staticClass:"space-x-3"}),t._v(" "),e("div",{staticClass:"top-0 right-0 whitespace-nowrap"},["admin"==t.user.username?e("a",{staticClass:"px-4 py-2 bg-blue-500 text-white rounded",attrs:{href:"/profile/admin"}},[t._v("Votre profile ( "+t._s(t.user.username)+")")]):t._e(),t._v(" "),e("a",{staticClass:"px-4 py-2 bg-blue-500 text-red rounded cursor-pointer",on:{click:t.logout}},[t._v("Deconnexion")])]),t._v(" "),e("br"),e("br"),t._v(" "),e("h2",{staticClass:"text-lg sm:text-xl md:text-4xl text-neutral-800"},[e("span",{staticClass:"text-header-gradient-big"},[t._v("Vos blogs / articles publiés")])]),t._v(" "),t.blogs&&t.blogs.length>0?e("div",{staticClass:"flex flex-wrap items-center justify-center"},t._l(t.blogs,(function(o){return e("div",{key:o.id,staticClass:"relative group"},[e("LandingBlog",{attrs:{blog:o},on:{"open-blog":function(e){return t.showSingleBlog(o)}}}),t._v(" "),e("div",{staticClass:"absolute top-2 right-2 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},[e("button",{staticClass:"bg-blue-500 text-white p-1 rounded-full",on:{click:function(e){return t.editItem("blog",o.blogRoute)}}},[e("PencilIcon",{attrs:{size:20}})],1),t._v(" "),e("button",{staticClass:"bg-red-500 text-white p-1 rounded-full",on:{click:function(e){return t.deleteItem("blog",o.id)}}},[e("TrashCanIcon",{attrs:{size:20}})],1)])],1)})),0):e("div",{staticClass:"flex flex-wrap items-center justify-center"},[e("div",{staticClass:"px-6 py-4 bg-gray-100 flex items-center"},[t._v("\n            Pas de post?. Cliquez sur le bouton\n            "),e("base-button",{staticClass:"w-6 h-6 mt-0 mr-1 ml-1 bg-gradient-to-r from-[#468ef9] to-[#030a3c] text-white rounded-full flex items-center justify-center relative"},[e("PlusIcon",{attrs:{size:14}})],1),t._v("\n            au dessus.\n          ")],1)])]),t._v(" "),e("div",{staticClass:"w-full px-8 sm:px-0 my-0 py-0 flex flex-col items-center justify-center space-y-4 text-center"},[e("h2",{staticClass:"text-lg sm:text-xl md:text-4xl text-neutral-800"},[e("span",{staticClass:"text-header-gradient-big"},[t._v("Vos opportunités publiées")])]),t._v(" "),t.opportunities&&t.opportunities.length>0?e("div",{staticClass:"flex flex-wrap items-center justify-center"},t._l(t.opportunities,(function(o){return e("div",{key:o.id,staticClass:"relative group"},[e("LandingBlog",{attrs:{blog:o},on:{"open-blog":function(e){return t.showSingleOpportunity(o)}}}),t._v(" "),e("div",{staticClass:"absolute top-2 right-2 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},[e("button",{staticClass:"bg-blue-500 text-white p-1 rounded-full",on:{click:function(e){return t.editItem("blog",o.blogRoute)}}},[e("PencilIcon",{attrs:{size:20}})],1),t._v(" "),e("button",{staticClass:"bg-red-500 text-white p-1 rounded-full",on:{click:function(e){return t.deleteItem("blog",o.id)}}},[e("TrashCanIcon",{attrs:{size:20}})],1)])],1)})),0):e("div",{staticClass:"flex flex-wrap items-center justify-center"},[e("div",{staticClass:"px-6 py-4 bg-gray-100 flex items-center"},[t._v("\n            Pas de post?. Cliquez sur le bouton\n            "),e("base-button",{staticClass:"w-6 h-6 mt-0 mr-1 ml-1 bg-gradient-to-r from-[#468ef9] to-[#030a3c] text-white rounded-full flex items-center justify-center relative"},[e("PlusIcon",{attrs:{size:14}})],1),t._v("\n            au dessus.\n          ")],1)])])]),t._v(" "),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br")])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LandingBlog:o(405).default,BaseButton:o(165).default})}}]);