(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{397:function(e,t,o){var content=o(400);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(50).default)("a7e6f06e",content,!0,{sourceMap:!1})},399:function(e,t,o){"use strict";o(397)},400:function(e,t,o){var n=o(49)((function(i){return i[1]}));n.push([e.i,".modal[data-v-5acf55af]{background-color:rgba(0,0,0,.7);height:100%;left:0;overflow:auto;position:fixed;top:0;width:100%;z-index:100000}.modal-content[data-v-5acf55af]{background-color:#fefefe;border:1px solid #888;border-radius:12px;margin:10% auto;padding:20px;width:60%}.close[data-v-5acf55af]{color:#030a3c;float:right;font-size:28px;font-weight:700;margin-top:-10px}.close[data-v-5acf55af]:focus,.close[data-v-5acf55af]:hover{color:red;cursor:pointer;-webkit-text-decoration:none;text-decoration:none}",""]),n.locals={},e.exports=n},403:function(e,t,o){"use strict";o.r(t);var n=o(7),r=(o(48),o(13),o(104),{name:"LandingBlog",props:{type:{type:String,default:null},id:{required:!0,type:Number,default:null},route:{required:!0,type:String,default:null},creator:{required:!0,type:String,default:null}},data:function(){return{textCopiedToClipBoard:!1,readytoRedirect:!1,userLoggedIn:null,addedRequest:!1,failedRequest:!1,commentOwner:"",commentType:"",commentTypeId:"",commentData:"",commentHidden:"0",showModal:!1,selected:!1,vData:"",fallbackLink:"",commentSaved:!1,comments:[]}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.userLoggedIn=!!sessionStorage.getItem("username"),t.next=3,e.$axios.get("/comment/getall?type="+e.type+"&id="+e.id).then((function(t){e.comments=t.data.comments,console.log("comments =================> "),console.log("Response:",JSON.stringify(t))})).catch((function(e){console.error("Could not fetch the comments ==============>:",e)}));case 3:case"end":return t.stop()}}),t)})))()},updated:function(){var e=this;this.$nextTick((function(){"#comments"===window.location.hash&&(window.scrollTo(0,document.body.scrollHeight),e.vData=localStorage.getItem("commentdata"),e.vData&&""!=e.vData&&null!=e.vData&&"undefined"!=e.vData&&null!=e.vData&&0==e.commentSaved&&(e.prePostComment(),e.postComment(!0)))}))},methods:{postAnonymously:function(){this.selected=!0},loginthenPost:function(){var e=this;this.copyToClipboard(this.vData),this.readytoRedirect=!1,setTimeout((function(){e.textCopiedToClipBoard=!1}),100),this.readytoRedirect=!0,setTimeout((function(){e.readytoRedirect=!1,localStorage.setItem("commentdata",e.vData),"doc"==e.type?e.fallbackLink="documentations&route="+e.route+"&creator="+e.creator:e.fallbackLink=e.type+"s&route="+e.route+"&creator="+e.creator,e.$router.push("/u?next="+e.fallbackLink)}),4e3)},copyToClipboard:function(text){var e=this;navigator.clipboard.writeText(text).then((function(){console.log("Text copied to clipboard:",text),e.textCopiedToClipBoard=!0})).catch((function(e){console.error("Error copying to clipboard:",e)}))},prePostComment:function(){this.showModal=!0},closeModal:function(){this.showModal=!1},postComment:function(){var e=arguments,t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],o.prev=1,t.commentOwner=sessionStorage.getItem("username")?sessionStorage.getItem("username"):"anonymous",o.next=5,t.$axios.post("/comment/add",{commentOwner:t.commentOwner,commentType:t.type,commentTypeId:t.id,commentData:t.vData,commentHidden:t.commentHidden});case 5:r=o.sent,console.log("Response:",JSON.stringify(r)),200===r.data.status_code?(t.addedRequest=!0,t.commentSaved=!0,localStorage.removeItem("commentdata"),setTimeout((function(){t.addedRequest=!1,t.commentData="",t.vData="",t.showModal=!1,1!=n?("doc"==t.type?t.$router.push("/"+t.creator+"/documentations/"+t.route+"#comments"):t.$router.push("/"+t.creator+"/"+t.type+"s/"+t.route+"#comments"),location.reload()):("doc"==t.type?t.$router.push("/"+t.creator+"/documentations/"+t.route):t.$router.push("/"+t.creator+"/"+t.type+"s/"+t.route),location.reload())}),4e3)):(t.failedRequest=!0,setTimeout((function(){t.addedRequest=!1}),3e3)),o.next=15;break;case 10:o.prev=10,o.t0=o.catch(1),console.error(o.t0),t.failedRequest=!0,setTimeout((function(){t.addedRequest=!1}),3e3);case 15:case"end":return o.stop()}}),o,null,[[1,10]])})))()}}}),c=r,l=(o(399),o(0)),component=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t("client-only",[t("div",{staticClass:"full ml-6 mr-6 mx-auto justify-left"},[t("hr"),e._v(" "),e._l(e.comments,(function(o){return t("div",{key:o.id,staticClass:"mx-auto justify-left bg-white shadow-lg rounded-lg overflow-hidden"},[t("div",{staticClass:"px-6 py-4 bg-gray-100 flex items-center"},[t("router-link",{staticClass:"w-6 h-6 mr-2 flex items-center justify-center overflow-hidden rounded-full bg-gray-200",attrs:{to:"#"}},[o.ownerUrl?t("img",{staticClass:"w-full h-full object-cover",attrs:{src:o.ownerUrl,alt:"Profile Picture"}}):t("base-button",{staticClass:"w-6 h-6 bg-gradient-to-r from-[#468ef9] to-[#030a3c] text-white rounded-full flex items-center justify-center"},[t("AccountIcon",{attrs:{size:14}})],1)],1),e._v(" "),t("b",{staticClass:"mr-1"},[t("router-link",{staticClass:"text-blue-600 hover:underline",attrs:{to:"#"}},[e._v("\n      "+e._s(o.commentOwner)+"\n    ")])],1),e._v(" \n  | "+e._s(o.creation_date)+"\n")],1),e._v(" "),t("div",{staticClass:"px-6 py-4"},[t("p",{staticClass:"text-gray-700"},[e._v("\n          "+e._s(o.commentData)+"\n        ")])]),e._v(" "),t("br")])})),e._v(" "),t("br"),e._v(" "),t("hr"),e._v(" "),t("form",{on:{submit:function(t){return t.preventDefault(),e.prePostComment.apply(null,arguments)}}},[t("hr"),t("br"),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.vData,expression:"vData"}],staticClass:"w-full px-2 py-4 sm:py-3 rounded-lg sm:rounded-md text-sm focus:outline-none border border-[#AAAAAA] placeholder-[#888]",attrs:{rows:"3",placeholder:"Votre commentaire ici!"},domProps:{value:e.vData},on:{input:function(t){t.target.composing||(e.vData=t.target.value)}}}),t("br"),e._v(" "),t("div",{staticClass:"flex flex-col sm:flex-row"},[t("BaseButton",{staticClass:"px-10 py-4 bg-inherit text-gradient border border-[#4A8FF6] text-base",attrs:{type:"submit"}},[t("b",[e._v("Poster un commentaire")])])],1)]),e._v(" "),e.showModal?t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-content"},[t("span",{staticClass:"close",on:{click:e.closeModal}},[e._v("×")]),e._v(" "),0==e.userLoggedIn&&0==e.selected?t("div",[t("base-button",{staticClass:"px-8 xl:px-10 py-3 mt-2 bg-inherit text-gradient border border-[#0c66ee]",on:{click:e.postAnonymously}},[e._v("\n              Poster mon commentaire\n          ")]),e._v(" "),t("br"),e._v(" "),1==e.textCopiedToClipBoard||1==e.readytoRedirect?t("div",{staticClass:"flex bg-green-400 text-white mt-2 mb-2 px-4 py-2 rounded-md mb-4"},[t("base-button",{staticClass:"w-6 h-6 mt-0 mr-1 bg-gradient-to-r from-[#468ef9] to-[#030a3c] text-white rounded-full flex items-center justify-center relative"},[t("AccountIcon",{attrs:{size:14}})],1),e._v(" "),t("span",[e._v("\n              We saved your comment, We'll post it when you log in. redirecting...\n            ")])],1):e._e()],1):e._e(),e._v(" "),e.selected||1==e.userLoggedIn?t("form",{attrs:{id:"comments"},on:{submit:function(t){return t.preventDefault(),e.postComment.apply(null,arguments)}}},[t("h2",{staticClass:"text-2xl font-semibold"},[e._v("Publier un Commentaire "),t("span",{staticClass:"text-header-gradient"})]),e._v(" "),e.addedRequest?t("div",{staticClass:"bg-green-400 text-white px-4 py-2 rounded-md mb-4"},[e._v("\n            Votre commentaire a été enregistré avec succès.\n          ")]):e._e(),e._v(" "),e.failedRequest?t("div",{staticClass:"bg-red-400 text-white px-4 py-2 rounded-md mb-4"},[e._v("\n            Something unexpected happened, Please try again later.\n          ")]):e._e(),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.vData,expression:"vData"}],staticClass:"w-full px-2 py-4 sm:py-3 rounded-lg sm:rounded-md text-sm focus:outline-none border border-[#AAAAAA] placeholder-[#888]",attrs:{rows:"3",placeholder:"Votre commentaire ici!"},domProps:{value:e.vData},on:{input:function(t){t.target.composing||(e.vData=t.target.value)}}}),t("br"),e._v(" "),t("div",{staticClass:"flex flex-col sm:flex-row"},[t("BaseButton",{staticClass:"px-10 py-4 bg-inherit text-gradient border border-[#4A8FF6] text-base",attrs:{type:"submit"}},[e._v("\n              Publier ce commentaire\n            ")])],1)]):e._e()])]):e._e()],2)])}),[],!1,null,"5acf55af",null);t.default=component.exports;installComponents(component,{BaseButton:o(103).default,BaseButton:o(103).default})}}]);